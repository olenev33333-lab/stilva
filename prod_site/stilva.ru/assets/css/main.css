
/* =====================================================================
   main.css
   Содержит стили, вынесенные из инлайновых <style> исходного index.html.
   Структура: объединённые блоки с комментариями вида
   "БЛОК CSS #N: отвечает за ..."
   ===================================================================== */

/* ===== БЛОК CSS #1: отвечает за стили из исходного index (инлайн). ===== */
*, *::before, *::after { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; }
    img { display: block; max-width: 100%; height: auto; }
    a { color: inherit; text-decoration: none; }
    button { font: inherit; }
    :root {
      color-scheme: only light;
      --bg: #f7f8fb;
      --surface: #ffffff;
      --surface-2: #f3f6fb;
      --text: #0f172a;
      --muted: #64748b;
      --accent: #2563eb;
      --accent-2: #dde7ff;
      --border: #e6e8ee;
      --radius: 14px;
      --pad: clamp(16px, 3.5vw, 32px);
      --shadow: 0 10px 30px rgba(2, 6, 23, 0.08);
      --side: max(var(--pad), 4vw);
      --header-alpha: .75;
    }

    body {
      font-family: Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
      color: var(--text);
      background: var(--bg);
      line-height: 1.65;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .wrap { width: 100%; }
    .section { padding: clamp(48px, 8vw, 96px) 0; }
    .inner { padding-inline: var(--side); }

    /* Header */
    .header { position: sticky; top: 0; z-index: 100; backdrop-filter: saturate(160%) blur(8px);
      background: color-mix(in oklab, var(--surface) 25%, transparent); border-bottom: 1px solid var(--border); }
    .header__row { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 8px; padding: 12px var(--side); min-height: 56px; }
    .brand { justify-self: start; font-weight: 800; letter-spacing: .2px; font-size: clamp(24px, 2.8vw, 36px); }
    .nav { display: flex; gap: clamp(12px, 2vw, 22px); align-items: center; justify-content: center; color: var(--muted); font-size: clamp(13px, 1.4vw, 14px); }
    .nav a { padding: 8px 10px; border-radius: 10px; }
    .nav a:hover, .nav a:focus-visible { background: var(--accent-2); color: var(--text); outline: none; }
    .hdr-cta { justify-self: end; }

    /* Buttons */
    .btn { display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding: 12px 16px; border-radius: 12px; font-weight: 700; font-size: 14px;
      background: var(--accent); color: #fff; border: 1px solid color-mix(in oklab, var(--accent), #000 20%);
      box-shadow: var(--shadow); transition: transform .15s ease, box-shadow .15s ease, background .15s ease; }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 16px 36px rgba(0,0,0,.15); }
    .btn--ghost { background: transparent; color: var(--accent); border: 2px solid var(--accent); box-shadow: none; }
    .btn--ghost:hover { background: var(--accent); color:#fff; }
    .btn--lite { background: color-mix(in oklab, var(--accent), #fff 90%); color: color-mix(in oklab, var(--accent), #000 40%); border:1px solid color-mix(in oklab, var(--accent), #000 15%); }
    .btn--lite:hover { background: color-mix(in oklab, var(--accent), #fff 84%); }

    @media (max-width: 900px){
      .nav { display: none; }
      .header__row { grid-template-columns: 1fr auto; }
      .brand { font-size: 16px; }
    }

    /* Hero */
    .hero{ background: transparent; }
    .hero__grid{
  display:grid;
  /* БЫЛО: grid-template-columns: 1.1fr .9fr; или что-то подобное */
  grid-template-columns: 1fr clamp(1000px, 48vw, 1000px); /* ← ширина ПОЛЯ тут */
  gap: clamp(20px, 4vw, 40px);
  align-items:center;
}
    .eyebrow { display:inline-flex; align-items:center; gap:8px; font-size:12px; letter-spacing:.3px; color: var(--text);
      font-weight:800; text-transform: uppercase; background: color-mix(in oklab, var(--accent), #fff 85%); border:1px solid var(--border);
      padding:6px 10px; border-radius:12px; }
    .hero h1 { margin: 12px 0 14px; font-size: clamp(32px, 5.6vw, 64px); line-height: 1.1; letter-spacing: -0.02em; }
    .hero p { color: var(--muted); margin: 0 0 22px; font-size: clamp(16px, 1.6vw, 18px); max-width: 72ch; }
.hero__media{
  position: relative;
  border-radius: 18px;
  background: transparent;
  border: none;

  /* как в исходнике: НЕ увеличиваем высоту */
  min-height: clamp(520px, 32vw, 520px);

  display:flex; align-items:center; justify-content:center;
  color: var(--muted); font-weight:700;
  overflow: visible; 
  isolation: isolate;
}
    .cta-row { display:flex; gap: 10px; flex-wrap: wrap; }

    /* Mini-cards in hero */
.hero-mini{
  position: relative;
  min-height: inherit;

  /* ключ: добавляем только горизонтальные поля, чтобы карты не жались к бортам */
  padding: 0 clamp(32px, 5vw, 56px);

  background: transparent;
  border: none;
  pointer-events: none;
  width: 100%; height: 100%;
  overflow: visible;
}
.hero-mini__card{
  width: min(48%, 350px);
  position: absolute;

  /* оставь свою ширину, если уже менял — это безопасно */
  /* width: min(56%, 560px); */

  display: grid;
  grid-template-columns: 140px 1fr;   /* слева фото, справа текстовая колонка */
  align-items: start;                 /* текст стартует сверху, не ниже фото */
  gap: 12px;

  /* ВОТ ЭТИ СВОЙСТВА ВЕРНУЛИ ФОН И «КАРТОЧНОСТЬ» */
  background: color-mix(in oklab, var(--surface) 25%, transparent);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px;
  box-shadow: var(--shadow);
  pointer-events: auto;

  /* чтобы прежние сдвиги и порядок сохранились */
  transform: translate(var(--dx,0), var(--dy,0)) translate(var(--fx,0), var(--fy,0)) rotate(var(--rot,0deg));
  transition: transform .2s ease, box-shadow .2s ease, z-index .2s ease;
  z-index: var(--z, 1);

  will-change: transform;
}
.hero-mini__card:hover{
  box-shadow: 0 16px 36px rgba(0,0,0,.15);
  transform: translate(var(--dx,0), var(--dy,0)) rotate(0deg) scale(1.01);
  z-index: 9;
}
.hero-mini__img{
  --mini-h: 180px;                    /* если хочешь другой размер — поменяй тут одно число */
  width: var(--mini-h);
  height: var(--mini-h);
  border-radius: 12px;
  object-fit: cover;
  background: var(--surface-2);
  border: 1px solid var(--border);
  grid-column: 1;                     /* слева */
  grid-row: 1;                        /* верхняя ячейка */
}
.hero-mini__right{
  grid-column: 2;
  grid-row: 1;
  display: grid;

  /* было: grid-template-columns: 1fr auto; grid-template-rows: auto minmax(0,1fr) auto; */
  grid-template-columns: 1fr;          /* одна колонка внутри: заголовок, теги, цена */
  grid-template-rows: auto auto auto;  /* 1) заголовок  2) теги  3) цена */

  row-gap: 8px;                         /* расстояние между строками */
  justify-items: center;                /* горизонтально всё по центру */
  align-content: center;                /* вертикально центрируем блок внутри высоты фото */
  align-items: start;

  max-height: var(--mini-h);
  padding: 6px 8px;                     /* лёгкий внутренний отступ */
  overflow: hidden;
}
.hero-mini__title{
  grid-row: 1;
  font-weight: 800;
  font-size: 13px;
  line-height: 1.25;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;        /* по центру */
  justify-self: center;      /* по центру сетки */
  margin: 0;
}
.hero-mini__price{
  /* переносим таблетку цены под теги и центрируем */
  grid-row: 3;
  grid-column: 1;        /* внутри правой колонки на всю её ширину */
  justify-self: center;  /* по центру по горизонтали */
  align-self: start;

  margin-top: 2px;       /* небольшой зазор от тегов */

  font-weight: 800;
  font-size: 13px;
  background: color-mix(in oklab, var(--accent), #fff 90%);
  border: 1px solid color-mix(in oklab, var(--accent), #000 10%);
  border-radius: 10px;
  padding: 4px 8px;
  white-space: nowrap;
}

.hero-mini__tags{
  grid-row: 2;
  display: flex;
  flex-direction: column;    /* столбиком */
  align-items: left;       
  gap: 8px;                  /* между плашками */
  margin: 0;
  overflow: hidden;
}


    .hero-mini__tag{ padding:4px 8px; border-radius:10px; background:#EEF2F6; border:1px solid #E1E7EF; font-size:11px; color: color-mix(in oklab, var(--accent), #000 35%); }

    /* Мягкая маска по краям, визуально «обрезает» фон карточек */
    .hero-mini::after{
      content:"";
      position:absolute; inset:-2px;
      pointer-events:none;
      /* прозрачная сверху-слева, плотнее к правому/нижнему краю */
      mask-image: radial-gradient(120% 100% at 0% 0%, #000 55%, transparent 100%);
      background: transparent;
    }

    /* мобилка — без абсолютов, в столбик */
    @media (max-width: 700px){
      .hero-mini{ min-height: auto; display:grid; grid-template-columns: 1fr; gap:12px; overflow: visible; }
      .hero-mini__card{ position: static; width: auto; transform: none; }
    }

    @media (max-width: 980px){ .hero__grid { grid-template-columns: 1fr; } }

    /* уважение к людям с укачкой */
    @media (prefers-reduced-motion: reduce){
      .hero-mini__card{ transition: box-shadow .2s ease; transform: none !important; }
      .hero-mini__card:hover{ transform: none !important; }
    }

    /* Section headers */
    .section__head { text-align:center; margin-bottom: clamp(28px, 4vw, 40px); }
    .h2 { font-size: clamp(24px, 3.2vw, 38px); margin: 0 0 10px; letter-spacing: -0.01em; }
    .lead { color: var(--muted); max-width: 80ch; margin: 0 auto; }

    /* Catalog */
    #catalog { padding: clamp(36px, 6vw, 56px) var(--side); }
    .catalog__grid { display:grid; gap: clamp(12px, 1.6vw, 16px); grid-template-columns: repeat(3, minmax(0,1fr)); transition:opacity .2s ease; }
    @media (max-width:1000px){ .catalog__grid { grid-template-columns: 1fr 1fr; } }
    @media (max-width:640px){ .catalog__grid { grid-template-columns: 1fr; } }
    #catalog[aria-busy="true"] .catalog__grid { opacity:0 }

    .product { border:1px solid var(--border); border-radius:16px; overflow:hidden; background: color-mix(in oklab, var(--surface) 35%, transparent);
      display:grid; grid-template-columns: 1.1fr .9fr; align-items:stretch; }
    @media (max-width: 820px){ .product{ grid-template-columns: 1fr; } }
    .product__img { background: var(--surface-2); height: 100%; min-height: clamp(160px, 22vw, 220px); display:flex; align-items:center; justify-content:center; color:#7f8aa0; font-weight:700; }
    .product__body { padding: clamp(12px, 1.8vw, 14px); display:grid; row-gap: 8px; }
    .product__title { font-weight: 800; font-size: clamp(16px, 1.8vw, 18px); }
    .product__meta { color: var(--muted); font-size: 14px; }
    .product__price{ font-weight:800; font-size: clamp(18px, 2vw, 20px); letter-spacing:-.01em; color:var(--text);
      background: color-mix(in oklab, var(--accent), #fff 90%); border:1px solid color-mix(in oklab, var(--accent), #000 10%);
      border-radius:10px; padding:8px 10px; width:fit-content; }
    .product__tags { display:flex; gap:6px; flex-wrap:wrap; }
    .tag { padding:6px 10px; border-radius:12px; background:#EEF2F6; border-color:#E1E7EF; color: color-mix(in oklab, var(--accent), #000 35%); font-size:12px; border:1px solid var(--border); }
    .product__actions { display:flex; gap:8px; margin-top: 4px; }

    /* Спиннер */
    @keyframes spin { to { transform: rotate(360deg); } }
    .spinner{
      width:16px;height:16px;
      border:3px solid #e5e7eb;
      border-top-color:#15803d;
      border-radius:50%;
      animation: spin .8s linear infinite;
    }

    /* чтоб цифры не прыгали */
    #order-panel{ font-variant-numeric: tabular-nums; font-feature-settings:"tnum"; }


/* ===== БЛОК CSS #2: отвечает за стили из исходного index (инлайн). ===== */
/* === interactive tweaks (safe, isolated) === */
html { scroll-behavior: smooth; }

/* Show pointer cursor on anything clickable */
a[href],
button,
[role="button"],
.btn,
.nav a,
.hdr-cta a,
.hero-mini__card,
#cart-badge,
.product [data-order] { cursor: pointer; }

/* Smooth slide-in/out for order panel */
#order-panel{
  transform: translateX(110%);
  opacity: 0;
  transition: transform .35s ease, opacity .35s ease;
  will-change: transform, opacity;
}
#order-panel.open{
  transform: translateX(0);
  opacity: 1;
  display: block !important;
}


/* ===== БЛОК CSS #3: отвечает за стили из исходного index (инлайн). ===== */



/* ===== БЛОК CSS #4: отвечает за стили из исходного index (инлайн). ===== */
/* === BEGIN: background cloud layer (fixed pseudo, under all content) === */
:root{
  --cloud1-x: 18%;
  --cloud1-y: 12%;
  --cloud2-x: 82%;
  --cloud2-y: 78%;
  --cloud-color: #6b93ff;
}
/* ensure base bg stays uniform to avoid seams */
body{ background: var(--bg); position: relative; }

/* fixed layer renders above base bg and below everything else */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(1400px 1100px at var(--cloud1-x) var(--cloud1-y),
      color-mix(in oklab, var(--cloud-color) 45%, transparent) 0%, transparent 70%),
    radial-gradient(1200px 900px at var(--cloud2-x) var(--cloud2-y),
      color-mix(in oklab, var(--cloud-color) 35%, transparent) 0%, transparent 72%);
  background-repeat: no-repeat;
  will-change: transform;
}
/* === END: background cloud layer (fixed pseudo, under all content) === */


/* ===== БЛОК CSS #5: отвечает за стили из исходного index (инлайн). ===== */
/* === Standalone Contacts section === */
section.contacts {
  padding: clamp(40px, 7vw, 72px) 0;
}
.contacts__inner {
  max-width: clamp(560px, 60vw, 720px);
  margin: 0 auto;
  padding: clamp(18px, 3vw, 28px) clamp(16px, 3vw, 32px);
  background: rgba(43, 108, 255, 0.15);
  border-radius: 16px;
  backdrop-filter: saturate(120%);
  text-align: center; /* центрируем текст по горизонтали */
}
.contacts__title {
  margin: 0 0 10px;
  font-size: clamp(20px, 2.2vw, 28px);
  line-height: 1.2;
}
.contacts__row { margin: 8px 0; }
.contacts__row a { text-decoration: underline; }
.contacts__note { opacity: .8; font-size: .95em; margin-top: 6px; }


/* --- status pills (stock / lead-time) --- */
.product__status{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:2px 0 4px}
.pill{font-size:12px;font-weight:600;padding:6px 10px;border-radius:12px;border:1px dashed #dbe3f2;background:#f8fafc;color:#0f172a}
.pill--stock{background:#ecfdf5;border-color:#bbf7d0;color:#065f46}
.pill--lead{background:#eff6ff;border-color:#bfdbfe;color:#1e40af}
.pill--order{background:#fff7ed;border-color:#fed7aa;color:#9a3412}
/* === CONTACTS v2 (карточки + QR), без оверрайдов === */
#contacts .contacts__grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: clamp(16px, 2.2vw, 24px);
  max-width: clamp(960px, 94vw, 1500px);
  margin: 0 auto;
  padding-inline: var(--side);
  align-items: stretch;
}

#contacts .contacts__card{
  padding: clamp(22px, 3.4vw, 32px) clamp(20px, 3.8vw, 36px);
  background: rgba(43,108,255,.15);
  border-radius: 16px;
  backdrop-filter: saturate(120%);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#contacts .contacts__card--center{
  align-items: center;
  text-align: center;
}

#contacts .contacts__title{
  margin: 0 0 8px;
  font-size: clamp(20px, 2.2vw, 28px);
  line-height: 1.2;
}

#contacts .contacts__row{ margin: 6px 0; }
#contacts .contacts__row a{ text-decoration: underline; }
#contacts .contacts__note{ opacity:.85; font-size:.95em; margin-top:4px; }

/* QR-линия: на десктопе в один ряд, по центру; на мобилке — столбик */
#contacts .qr-lines{
  display: flex;
  gap: 16px;
  justify-content: center;
  align-items: stretch;
  flex-wrap: nowrap;                 /* ключ: держим в одну линию */
  margin-top: 6px;
}

/* Бейдж QR: ширина по содержимому, аккуратные отступы */
#contacts .qr-item{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  width: max-content;                /* не растягиваемся на всю ширину */
  max-width: 100%;
  border: 1px dashed color-mix(in oklab, var(--accent), #000 25%);
  background: color-mix(in oklab, var(--accent), #fff 93%);
  border-radius: 12px;
  color: inherit;
  text-decoration: none;
  transition: transform .15s ease, box-shadow .15s ease;
}
#contacts .qr-item:hover{
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(15,23,42,.06);
}

#contacts .qr-item img{
  width: 120px; height: 120px; object-fit: contain;
  background:#fff; border-radius:10px; padding:8px; border:1px solid #e5eaf5;
}

#contacts .qr-meta{ display: grid; gap: 4px; align-content: center; text-align: left; }
#contacts .qr-title{ font-weight: 800; }
#contacts .qr-sub{ color: var(--muted); }
#contacts .qr-cta{ text-decoration: underline; font-weight: 600; }
#contacts .qr-hint{ margin-top: 8px; font-size: 12px; color: var(--muted); text-align: center; }

/* Адаптив: на узких экранах QR уходит в столбик, сетка — в одну колонку */
@media (max-width: 900px){
  #contacts .contacts__grid{ grid-template-columns: 1fr; }
  #contacts .qr-lines{ flex-wrap: wrap; } /* можно в 2 строки, если места мало */
  #contacts .qr-item img{ width: 140px; height: 140px; } /* побольше на мобилке */
}

/* Фокус карточки при переходе по ?product=ID */
.product--focus{
  outline: 2px solid var(--accent);
  outline-offset: 4px;
  box-shadow: 0 10px 30px rgba(15,23,42,.12);
}
